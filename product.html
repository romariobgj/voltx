<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produto - iPhonePro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        #product-image {
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
        #product-image.slide {
            opacity: 0;
            transform: translateX(20px);
        }
        #product-image.slide-in {
            opacity: 1;
            transform: translateX(0);
        }
        .dot {
            width: 10px;
            height: 10px;
            background-color: #d1d5db;
            border-radius: 50%;
            display: inline-block;
            margin: 0 5px;
            cursor: pointer;
        }
        .dot.active {
            background-color: #28a745;
        }
    </style>
</head>
<body class="bg-gray-50 font-inter">
    <!-- Header -->
    <header class="fixed top-0 w-full bg-white shadow-md z-50">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <a href="index.html" class="text-2xl font-bold text-gray-900">iPhonePro</a>
            <div class="w-1/3">
                <input type="text" placeholder="Buscar iPhone..." class="w-full px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500">
            </div>
            <div class="flex items-center space-x-4">
                <span class="text-gray-700 cursor-pointer">üë§ Login</span>
                <div class="relative cursor-pointer" onclick="toggleCart()">
                    <span class="text-2xl">üõí</span>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Product Details -->
    <section class="mt-20 py-16">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <div class="relative">
                    <img id="product-image" src="https://via.placeholder.com/500x500" alt="iPhone" class="w-full rounded-lg shadow-lg object-cover">
                    <button id="prev-image" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-green-600 text-white p-3 rounded-full hover:bg-green-700 transition shadow-md">‚Üê</button>
                    <button id="next-image" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-green-600 text-white p-3 rounded-full hover:bg-green-700 transition shadow-md">‚Üí</button>
                    <div id="image-dots" class="flex justify-center mt-4"></div>
                </div>
                <div class="flex flex-col justify-center">
                    <h1 id="product-name" class="text-4xl font-bold text-gray-900 mb-4">Carregando...</h1>
                    <p id="product-price" class="text-4xl font-bold text-green-600 mb-6 bg-white p-3 rounded-lg shadow-md">Carregando...</p>
                    <button id="add-to-cart" class="bg-yellow-400 text-gray-900 px-10 py-4 rounded-lg hover:bg-yellow-500 transition font-semibold text-lg shadow-lg mb-6">Comprar</button>
                    <p id="product-description" class="text-gray-600 text-lg leading-relaxed">Carregando...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed top-0 right-0 w-full md:w-96 h-full bg-white shadow-xl transform translate-x-full transition-transform duration-300">
        <div class="p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Carrinho</h2>
                <button onclick="toggleCart()" class="text-gray-600 hover:text-gray-900">Fechar</button>
            </div>
            <div id="cart-items" class="space-y-4"></div>
            <p id="cart-total" class="text-lg font-semibold mt-6">Total: R$ 0</p>
            <a href="https://checkout.vegaspay.app" class="block mt-4 bg-green-600 text-white text-center px-6 py-3 rounded-lg hover:bg-green-700 transition">Continuar</a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Sobre a loja</h3>
                    <p>Somos a iPhonePro, sua loja de confian√ßa para iPhones no Brasil. Entrega r√°pida e qualidade garantida!</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Ajuda ao cliente</h3>
                    <ul class="space-y-2">
                        <li><a href="faq.html" class="hover:text-yellow-400">FAQ</a></li>
                        <li><a href="contato.html" class="hover:text-yellow-400">Contato</a></li>
                        <li><a href="trocas.html" class="hover:text-yellow-400">Trocas e Devolu√ß√µes</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Redes sociais</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-yellow-400 hover:text-yellow-500">Instagram</a>
                        <a href="#" class="text-yellow-400 hover:text-yellow-500">Facebook</a>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>¬© 2025 iPhonePro. Todos os direitos reservados ‚Äì Brasil üáßüá∑</p>
            </div>
        </div>
    </footer>

    <script>
        // Dados dos produtos
        const products = [
            {
                id: 'iphone-14-pro-max',
                name: 'iPhone 14 Pro Max',
                price: 8499,
                description: 'O iPhone 14 Pro Max oferece desempenho incompar√°vel com o chip A16 Bionic, tela Super Retina XDR de 6,7 polegadas e um sistema de c√¢meras avan√ßado com sensor de 48 MP. Perfeito para quem busca o melhor da tecnologia.',
                images: [
                    'https://dcdn-us.mitiendanube.com/stores/003/635/363/products/7a2e25a39680c01f6595d1065ffec832-94e8f82d41db9702e417083860174690-1024-1024.webp',
                    'https://dcdn-us.mitiendanube.com/stores/003/635/363/products/7a2e25a39680c01f6595d1065ffec832-94e8f82d41db9702e417083860174690-1024-1024.webp'
                ]
            },
            {
                id: 'iphone-14',
                name: 'iPhone 14',
                price: 6999,
                description: 'O iPhone 14 combina design elegante com o chip A15 Bionic, tela OLED de 6,1 polegadas e c√¢meras duplas de 12 MP. Ideal para quem quer desempenho e estilo.',
                images: ['https://via.placeholder.com/500x500?text=iPhone+14']
            },
            {
                id: 'iphone-13-pro',
                name: 'iPhone 13 Pro',
                price: 6499,
                description: 'O iPhone 13 Pro traz o chip A15 Bionic, tela ProMotion de 6,1 polegadas e um sistema de c√¢meras Pro com modo cinematogr√°fico. Excelente para criadores de conte√∫do.',
                images: ['https://via.placeholder.com/500x500?text=iPhone+13+Pro']
            },
            {
                id: 'iphone-13',
                name: 'iPhone 13',
                price: 5499,
                description: 'O iPhone 13 oferece o chip A15 Bionic, tela Super Retina XDR de 6,1 polegadas e c√¢meras duplas com modo noturno. Perfeito para o dia a dia.',
                images: ['https://via.placeholder.com/500x500?text=iPhone+13']
            },
            {
                id: 'iphone-12',
                name: 'iPhone 12',
                price: 4499,
                description: 'O iPhone 12 tem chip A14 Bionic, tela OLED de 6,1 polegadas e suporte a 5G. Um equil√≠brio perfeito entre pre√ßo e performance.',
                images: ['https://via.placeholder.com/500x500?text=iPhone+12']
            },
            {
                id: 'iphone-11',
                name: 'iPhone 11',
                price: 3499,
                description: 'O iPhone 11 conta com chip A13 Bionic, tela Liquid Retina de 6,1 polegadas e c√¢meras duplas. √ìtima escolha para quem busca custo-benef√≠cio.',
                images: ['https://via.placeholder.com/500x500?text=iPhone+11']
            }
        ];

        // Obter o ID do produto da URL
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');
        const product = products.find(p => p.id === productId);

        // Carrossel de imagens
        let currentImageIndex = 0;
        const productImage = document.getElementById('product-image');
        const dotsContainer = document.getElementById('image-dots');

        function updateProductImage() {
            if (product && product.images.length > 0) {
                productImage.classList.add('slide');
                setTimeout(() => {
                    productImage.src = product.images[currentImageIndex];
                    productImage.alt = product.name;
                    productImage.classList.remove('slide');
                    productImage.classList.add('slide-in');
                    updateDots();
                }, 500);
            }
        }

        function updateDots() {
            dotsContainer.innerHTML = '';
            product.images.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.className = 'dot' + (index === currentImageIndex ? ' active' : '');
                dot.onclick = () => {
                    currentImageIndex = index;
                    updateProductImage();
                };
                dotsContainer.appendChild(dot);
            });
        }

        function showNextImage() {
            if (product && product.images.length > 0) {
                currentImageIndex = (currentImageIndex + 1) % product.images.length;
                updateProductImage();
            }
        }

        function showPrevImage() {
            if (product && product.images.length > 0) {
                currentImageIndex = (currentImageIndex - 1 + product.images.length) % product.images.length;
                updateProductImage();
            }
        }

        // Atualizar a p√°gina com os detalhes do produto
        if (product) {
            document.getElementById('product-name').textContent = product.name;
            document.getElementById('product-price').textContent = `R$ ${product.price.toLocaleString('pt-BR')}`;
            document.getElementById('product-description').textContent = product.description;
            updateProductImage();
            document.getElementById('add-to-cart').onclick = () => addToCart(product.name, product.price);

            // Adicionar eventos aos bot√µes de navega√ß√£o
            document.getElementById('next-image').onclick = showNextImage;
            document.getElementById('prev-image').onclick = showPrevImage;

            // Esconder bot√µes e dots se houver apenas uma imagem
            if (product.images.length <= 1) {
                document.getElementById('next-image').style.display = 'none';
                document.getElementById('prev-image').style.display = 'none';
                dotsContainer.style.display = 'none';
            } else {
                updateDots();
            }
        } else {
            document.getElementById('product-name').textContent = 'Produto n√£o encontrado';
            document.getElementById('product-price').textContent = '';
            document.getElementById('product-description').textContent = 'Desculpe, o produto solicitado n√£o est√° dispon√≠vel.';
            document.getElementById('add-to-cart').style.display = 'none';
            document.getElementById('next-image').style.display = 'none';
            document.getElementById('prev-image').style.display = 'none';
            dotsContainer.style.display = 'none';
        }

        // L√≥gica do carrinho
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function updateCart() {
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartCount = document.getElementById('cart-count');
            cartItems.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                total += item.price;
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex justify-between';
                itemDiv.innerHTML = `<span>${item.name}</span><span>R$ ${item.price.toLocaleString('pt-BR')}</span>`;
                cartItems.appendChild(itemDiv);
            });

            cartTotal.textContent = `Total: R$ ${total.toLocaleString('pt-BR')}`;
            cartCount.textContent = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function addToCart(name, price) {
            cart.push({ name, price });
            updateCart();
            toggleCart();
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cart-sidebar');
            cartSidebar.classList.toggle('translate-x-full');
        }

        updateCart();
    </script>
</body>
</html>
